
```
**í„°ë¯¸ë„ì—ì„œ ì§ì ‘ ìƒì„±í•˜ëŠ” ë°©ë²•:**
1.  `conda activate nlp-tfgpu` ì‹¤í–‰ í›„ `pip freeze > requirements_nlp.txt`
2.  `conda activate LangchainEnv` ì‹¤í–‰ í›„ `pip freeze > requirements_langchain.txt`

---

### **2. `README.md` (í”„ë¡œì íŠ¸ ì„¤ëª…ì„œ)**

GitHub ë¦¬í¬ì§€í† ë¦¬ì˜ ë©”ì¸ í˜ì´ì§€ì— í‘œì‹œë  ì„¤ëª…ì„œì…ë‹ˆë‹¤. ì•„ë˜ ë‚´ìš©ì„ `README.md` íŒŒì¼ë¡œ ì €ì¥í•˜ì„¸ìš”.


# MapleStory Community Sentiment Analysis MLOps Pipeline

## 1. ğŸ“– í”„ë¡œì íŠ¸ ê°œìš”

ë³¸ í”„ë¡œì íŠ¸ëŠ” ë©”ì´í”ŒìŠ¤í† ë¦¬ ì¸ë²¤ ì»¤ë®¤ë‹ˆí‹°ì˜ ê²Œì‹œê¸€ì„ ê¸°ë°˜ìœ¼ë¡œ, ê²Œì„ ìœ ì €ë“¤ì˜ ì—¬ë¡  ë™í–¥ì„ ë¶„ì„í•˜ëŠ” ìë™í™”ëœ MLOps íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

ë‹¨ìˆœíˆ ëª¨ë¸ì„ í•œ ë²ˆ í•™ìŠµì‹œí‚¤ëŠ” ê²ƒì„ ë„˜ì–´, **ë°ì´í„° ìˆ˜ì§‘, LLMì„ ì´ìš©í•œ ìë™ ë¼ë²¨ë§, ëª¨ë¸ ì¬í•™ìŠµ, ë²„ì „ ê´€ë¦¬, ê·¸ë¦¬ê³  ì‚¬ìš©ì í”¼ë“œë°±ì„ í†µí•œ ëª¨ë¸ ì„±ëŠ¥ ê°œì„ **ê¹Œì§€ ì´ì–´ì§€ëŠ” ì „ì²´ ë¨¸ì‹ ëŸ¬ë‹ ìƒëª…ì£¼ê¸°ë¥¼ ìë™í™”í•˜ì—¬ ì§€ì†ì ìœ¼ë¡œ ë˜‘ë˜‘í•´ì§€ëŠ” ê°ì„± ë¶„ì„ ì‹œìŠ¤í…œì„ êµ¬í˜„í•©ë‹ˆë‹¤.

---

## 2. ğŸŒŸ ì£¼ìš” ê¸°ëŠ¥

* **ë³‘ë ¬ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸**: ë°ì´í„° ìˆ˜ì§‘ í”„ë¡œì„¸ìŠ¤ì™€ ë°ì´í„° ì²˜ë¦¬/í•™ìŠµ í”„ë¡œì„¸ìŠ¤ë¥¼ ë¶„ë¦¬í•˜ì—¬ 24ì‹œê°„ ë©ˆì¶”ì§€ ì•Šê³  ë™ì‘í•©ë‹ˆë‹¤.
* **LLM ê¸°ë°˜ ìë™ ë¼ë²¨ë§**: ë¡œì»¬ì—ì„œ ì‹¤í–‰ë˜ëŠ” Gemma ëª¨ë¸(LM Studio)ì„ í™œìš©í•˜ì—¬ ìˆ˜ì§‘ëœ ë°ì´í„°ì— 'ê¸ì •/ì¤‘ë¦½/ë¶€ì •' ë¼ë²¨ì„ ìë™ìœ¼ë¡œ ë¶€ì—¬í•©ë‹ˆë‹¤.
* **ì ì§„ì  í•™ìŠµ (Incremental Learning)**: ì‹ ê·œ ë°ì´í„°ì™€ ì‚¬ìš©ì í”¼ë“œë°±, ê·¸ë¦¬ê³  ë°©ëŒ€í•œ ê¸°ì¡´ ë°ì´í„°ë¥¼ ì ì ˆíˆ ì¡°í•©í•˜ì—¬ ëª¨ë¸ì´ ìµœì‹  íŠ¸ë Œë“œë¥¼ ë°˜ì˜í•˜ë©´ì„œë„ ì¼ë°˜í™” ì„±ëŠ¥ì„ ìƒì§€ ì•Šë„ë¡ í•™ìŠµí•©ë‹ˆë‹¤.
* **ëª¨ë¸ ë²„ì „ ê´€ë¦¬**: í•™ìŠµëœ ëª¨ë¸ì„ ë®ì–´ì“°ì§€ ì•Šê³  íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë°˜ì˜ ë²„ì „ìœ¼ë¡œ ê´€ë¦¬í•˜ì—¬, ì–¸ì œë“  ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±í•˜ê±°ë‚˜ ì„±ëŠ¥ ë³€í™”ë¥¼ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **ì¸ê°„ ì°¸ì—¬í˜• ë£¨í”„ (Human-in-the-Loop)**: Streamlit ì•±ì„ í†µí•´ ì‚¬ìš©ìê°€ ëª¨ë¸ì˜ ì˜ˆì¸¡ ê²°ê³¼ë¥¼ ìˆ˜ì •í•˜ê³  í”¼ë“œë°±ì„ ì œì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê³ í’ˆì§ˆ ë°ì´í„°ëŠ” ë‹¤ìŒ ëª¨ë¸ í•™ìŠµì— ë°˜ì˜ë˜ì–´ ì‹œìŠ¤í…œì˜ ì •í™•ë„ë¥¼ ì§€ì†ì ìœ¼ë¡œ í–¥ìƒì‹œí‚µë‹ˆë‹¤.
* **ì¸í„°ë™í‹°ë¸Œ ëŒ€ì‹œë³´ë“œ**: ìµœì‹  ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì§ì—…êµ°/ì§ì—…ë³„ ê°ì„± ë¶„í¬ì™€ ì£¼ìš” í‚¤ì›Œë“œë¥¼ ì‹œê°í™”í•˜ê³ , ì‹¤ì‹œê°„ìœ¼ë¡œ í…ìŠ¤íŠ¸ ê°ì„±ì„ ë¶„ì„í•  ìˆ˜ ìˆëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## 3. âš™ï¸ MLOps ì•„í‚¤í…ì²˜

ë³¸ íŒŒì´í”„ë¼ì¸ì€ ë‘ ê°œì˜ ë…ë¦½ì ì¸ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ë³‘ë ¬ êµ¬ì¡°ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

```mermaid
graph TD
    subgraph "í”„ë¡œì„¸ìŠ¤ 1: í¬ë¡¤ëŸ¬ (crawler_main.py)"
        A[ë¬´í•œ ë£¨í”„ ì‹œì‘] --> B{ì£¼ê¸°ì  ì‚¬ì´íŠ¸ í™•ì¸};
        B --> C[ì‹ ê·œ ê²Œì‹œê¸€ ìˆ˜ì§‘];
        C --> D[all_posts.csvì— ëˆ„ì  ì €ì¥];
        D --> A;
    end

    subgraph "í”„ë¡œì„¸ìŠ¤ 2: ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° (main.py)"
        E[ë¬´í•œ ë£¨í”„ ì‹œì‘] --> F{ì£¼ê¸°ì  ì¡°ê±´ í™•ì¸};
        F -- "ì‹ ê·œ ë°ì´í„° 1000ê±´ ì´ìƒ?" --> G[raw_chunk ìƒì„±];
        G --> H[ë¼ë²¨ë§ ì‹¤í–‰];
        F -- "ì‚¬ìš©ì í”¼ë“œë°± 100ê±´ ì´ìƒ?" --> I[ìµœì‹  ì²­í¬ ë°ì´í„° ë¡œë“œ];
        
        subgraph "í•™ìŠµ íŒŒì´í”„ë¼ì¸ (training_pipeline.py)"
            J[ë°ì´í„° ê²°í•©]
            J --> K[ëª¨ë¸ í•™ìŠµ ë° í‰ê°€]
            K --> L[ìƒˆ ë²„ì „ìœ¼ë¡œ ëª¨ë¸ ì €ì¥]
        end

        H --> J;
        I --> J;
    end

    subgraph "ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ (app.py)"
        M[Streamlit ì•± ì‹¤í–‰] --> N{ìµœì‹  ëª¨ë¸/ë°ì´í„° ë¡œë“œ};
        N --> O[ëŒ€ì‹œë³´ë“œ ì‹œê°í™”];
        N --> P[ì‹¤ì‹œê°„ ê°ì„± ë¶„ì„];
        P --> Q[user_feedback.csvì— ì €ì¥];
    end

    D -.-> F;
    Q -.-> F;
    L -.-> N;
```

* **í”„ë¡œì„¸ìŠ¤ 1 (í¬ë¡¤ëŸ¬)**: ë©ˆì¶”ì§€ ì•Šê³  ê³„ì†í•´ì„œ ë©”ì´í”Œ ì¸ë²¤ì˜ ìƒˆë¡œìš´ ê²Œì‹œê¸€ì„ ìˆ˜ì§‘í•˜ì—¬ `all_posts.csv`ì— ìŒ“ìŠµë‹ˆë‹¤.
* **í”„ë¡œì„¸ìŠ¤ 2 (ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°)**: ì£¼ê¸°ì ìœ¼ë¡œ ê¹¨ì–´ë‚˜ **ë‘ ê°€ì§€ ì¡°ê±´**ì„ í™•ì¸í•©ë‹ˆë‹¤.
    1.  ìƒˆë¡œ ìˆ˜ì§‘ëœ ë°ì´í„°ê°€ 1,000ê±´ ì´ìƒ ìŒ“ì˜€ëŠ”ê°€?
    2.  ì‚¬ìš©ì í”¼ë“œë°±ì´ 100ê±´ ì´ìƒ ìŒ“ì˜€ëŠ”ê°€?
    * ìœ„ ì¡°ê±´ ì¤‘ í•˜ë‚˜ë¼ë„ ì¶©ì¡±ë˜ë©´, ë°ì´í„° ë¼ë²¨ë§ê³¼ ëª¨ë¸ ì¬í•™ìŠµ íŒŒì´í”„ë¼ì¸ì„ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ ëª¨ë“  ê³¼ì • ë™ì•ˆ í¬ë¡¤ëŸ¬ëŠ” ì˜í–¥ì„ ë°›ì§€ ì•Šê³  ê³„ì† ë™ì‘í•©ë‹ˆë‹¤.

---

## 4. ğŸ—ƒï¸ ë°ì´í„° êµ¬ì¡°

| íŒŒì¼/í´ë”ëª… | ì„¤ëª… | ìƒì„± ì£¼ì²´ | ì‚¬ìš© ì£¼ì²´ |
| :--- | :--- | :--- | :--- |
| `all_posts.csv` | ëª¨ë“  í¬ë¡¤ë§ ë°ì´í„°ê°€ ëˆ„ì ë˜ëŠ” ì›ë³¸ íŒŒì¼ | `crawler_main.py` | `main.py` |
| `/raw_chunks/` | `all_posts.csv`ì—ì„œ 1000ê±´ ë‹¨ìœ„ë¡œ ì˜ë¼ë‚¸ ë¼ë²¨ë§ ëŒ€ìƒ íŒŒì¼ (`raw_data_XX.csv`) | `main.py` | `labeler_main.py` |
| `/labeled_chunks/`| ë¼ë²¨ë§ì´ ì™„ë£Œëœ ë°ì´í„° íŒŒì¼ (`labeled_data_XX.csv`) | `labeler_main.py` | `training_pipeline.py`, `app.py` |
| `user_feedback.csv`| Streamlit ì•±ì—ì„œ ì‚¬ìš©ìê°€ ì§ì ‘ ì…ë ¥/ìˆ˜ì •í•œ ê³ í’ˆì§ˆ ë°ì´í„° | `app.py` | `training_pipeline.py` |
| `/archived_feedback/`| í•™ìŠµì— ì‚¬ìš©ëœ í”¼ë“œë°± ë°ì´í„°ê°€ ë°±ì—…ë˜ëŠ” í´ë” | `main.py` | - |
| `merged_label_final.csv`| (ì´ˆê¸° ë°ì´í„°) ì¼ë°˜ì ì¸ ê²Œì„ ë„ë©”ì¸ ë°ì´í„°. ëª¨ë¸ì˜ ê¸°ë°˜ ì§€ì‹ì„ ìœ„í•´ ì‚¬ìš© | ìˆ˜ë™ | `training_pipeline.py` |
| `korean_stopwords.txt`| (ì´ˆê¸° ë°ì´í„°) í•œêµ­ì–´ ë¶ˆìš©ì–´ ì‚¬ì „ | ìˆ˜ë™ | `training_pipeline.py`, `app.py` |

---

## 5. ğŸ§  ëª¨ë¸ í•™ìŠµ ë°©ì‹

ëª¨ë¸ì˜ ì„±ëŠ¥ì„ ì§€ì†ì ìœ¼ë¡œ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ í•™ìŠµ ì „ëµì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

1.  **ë°ì´í„° êµ¬ì„±**: ì¬í•™ìŠµ ì‹œ, ì•„ë˜ 3ì¢…ë¥˜ì˜ ë°ì´í„°ë¥¼ ëª¨ë‘ ê²°í•©í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.
    * **ì‹ ê·œ ë©”ì´í”Œ ë°ì´í„°**: ê°€ì¥ ìµœì‹  íŠ¸ë Œë“œë¥¼ ë°˜ì˜í•˜ëŠ” ë°ì´í„° (LLM ë¼ë²¨ë§)
    * **ì‚¬ìš©ì í”¼ë“œë°± ë°ì´í„°**: ì‚¬ëŒì´ ì§ì ‘ ê²€ì¦í•œ ê³ í’ˆì§ˆ ì •ë‹µ ë°ì´í„°
    * **ì¼ë°˜ ê²Œì„ ë°ì´í„° (ìƒ˜í”Œë§)**: ëª¨ë¸ì´ ë©”ì´í”ŒìŠ¤í† ë¦¬ ë°ì´í„°ì—ë§Œ ê³¼ì í•©ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê³ , ê²Œì„ ë„ë©”ì¸ ì „ë°˜ì˜ ë¬¸ë§¥ì„ ì´í•´í•˜ë„ë¡ ë•ëŠ” ê¸°ë°˜ ë°ì´í„°. ì‹ ê·œ ë°ì´í„°ì™€ 1:1 ë¹„ìœ¨ë¡œ ìƒ˜í”Œë§í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.

2.  **ëª¨ë¸ ì•„í‚¤í…ì²˜**:
    * **Stacked Bi-LSTM with Dropout**: ë‹¨ìˆœí•œ Bi-LSTMì„ ë„˜ì–´, ì—¬ëŸ¬ ì¸µì„ ìŒ“ê³  ê° ì¸µ ì‚¬ì´ì— Dropoutì„ ì¶”ê°€í•˜ì—¬ ë” ë³µì¡í•œ ë¬¸ë§¥ì„ í•™ìŠµí•˜ë©´ì„œë„ ê³¼ì í•©ì„ íš¨ê³¼ì ìœ¼ë¡œ ë°©ì§€í•˜ëŠ” êµ¬ì¡°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

      ```
      Embedding -> Dropout -> Bi-LSTM(return_seq) -> Dropout -> Bi-LSTM -> Dense -> Dropout -> Output
      ```

---

## 6. ğŸš€ ì‹¤í–‰ ë°©ë²•

### 6.1. í™˜ê²½ ì„¤ì •

1.  Anaconda ê°€ìƒí™˜ê²½ 2ê°œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
    ```bash
    conda create -n nlp-tfgpu python=3.9
    conda create -n LangchainEnv python=3.9
    ```
2.  ê° í™˜ê²½ì„ í™œì„±í™”í•˜ê³ , í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
    ```bash
    # nlp-tfgpu í™˜ê²½
    conda activate nlp-tfgpu
    pip install -r requirements_nlp.txt

    # LangchainEnv í™˜ê²½
    conda activate LangchainEnv
    pip install -r requirements_langchain.txt
    ```
3.  Konlpy(Okt) ì‚¬ìš©ì„ ìœ„í•´ JDK ì„¤ì¹˜ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 6.2. ì´ˆê¸° ëª¨ë¸ í•™ìŠµ (ìµœì´ˆ 1íšŒ)

1.  `data` í´ë”ì— `merged_label_final.csv` ì™€ `korean_stopwords.txt` íŒŒì¼ì„ ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤.
2.  `training_pipeline.py`ë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ì—¬ ì´ˆê¸° ë² ì´ìŠ¤ ëª¨ë¸ì„ ìƒì„±í•©ë‹ˆë‹¤.
    ```bash
    conda activate nlp-tfgpu
    # ì¸ìë¡œ ì´ˆê¸° ë°ì´í„°ë¥¼ ì„ì‹œë¡œ ì „ë‹¬í•˜ì—¬ ì‹¤í–‰
    python training_pipeline.py ./data/merged_label_final.csv
    ```
    * ì‹¤í–‰ì´ ì™„ë£Œë˜ë©´ `production_models/` í´ë”ì— ì²« ë²„ì „ì˜ ëª¨ë¸ì´ ìƒì„±ë©ë‹ˆë‹¤.

### 6.3. íŒŒì´í”„ë¼ì¸ ì‹¤í–‰

1.  LM Studioë¥¼ ì‹¤í–‰í•˜ê³ , ê°ì„± ë¶„ì„ì— ì‚¬ìš©í•  ëª¨ë¸(ì˜ˆ: `google/gemma-2-9b-it`)ì„ ë¡œì»¬ ì„œë²„ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.
2.  **í„°ë¯¸ë„ 1**ì—ì„œ MLOps íŒŒì´í”„ë¼ì¸ì„ ì‹œì‘í•©ë‹ˆë‹¤.
    ```bash
    conda activate nlp-tfgpu # ë˜ëŠ” main.pyê°€ ìˆëŠ” í™˜ê²½
    python main.py
    ```
    * ì´ì œ í¬ë¡¤ëŸ¬ì™€ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°ê°€ ë™ì‹œì— ì‹¤í–‰ë˜ë©° ìë™í™” íŒŒì´í”„ë¼ì¸ì´ ì‹œì‘ë©ë‹ˆë‹¤.

3.  **í„°ë¯¸ë„ 2**ì—ì„œ ì‚¬ìš©ììš© ëŒ€ì‹œë³´ë“œ ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
    ```bash
    conda activate nlp-tfgpu
    streamlit run app.py
    ```
    * ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8501` ì£¼ì†Œë¡œ ì ‘ì†í•˜ì—¬ ëŒ€ì‹œë³´ë“œë¥¼ í™•ì¸í•©
